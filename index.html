<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <!-- Ubah judul page -->
    <title>Judul Header</title>
    <link rel="icon" href="/icons/title.png" type="image/x-icon" />
    <style>
      body {
        background: url("/background/bg.png") no-repeat center center fixed;
        background-size: cover;

        margin: 0;
        font-family: Arial, sans-serif;
      }
      .container {
        padding: 20px;
        max-width: 1200px;
        margin: auto;
        text-align: center;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header img {
        height: 60px;
        object-fit: contain;
      }

      .title-section h1 {
        font-size: 2.5em;
        color: #d62828;
      }
      .title-section img {
        height: 80px;
        width: 100%;
        object-fit: contain;
        margin-top: 20px;
        margin-bottom: 20px;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        margin: 30px 0;
      }

      .box {
        height: 100px;
        background-color: white;
        object-fit: cover;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: transform 0.2s;
        position: relative;
        overflow: hidden;
      }

      .box:hover {
        transform: scale(1.05);
      }

      .footer {
        margin-top: 40px;
        font-size: 1.2em;
        color: black;
      }
      .footer p {
        margin: 10px 0;
      }
      .footer-icons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 10px;
      }
      .footer-icons img {
        height: 50px;
        width: 50px;
        object-fit: contain;
        border-radius: 50%;
        transition: transform 0.2s;
      }
      /* Modal Styles */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        backdrop-filter: blur(8px);
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 999;
      }

      .modal-content {
        background: #000;
        padding: 20px;
        border-radius: 8px;
        position: relative;
        max-width: 800px;
        width: 90%;
      }

      .modal-content video {
        width: 100%;
        height: auto;
        border-radius: 8px;
      }

      .close {
        position: absolute;
        top: -10px;
        right: -10px;
        background: white;
        color: black;
        font-size: 20px;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 50%;
      }

      .hidden {
        display: none;
      }
      .slide-left {
        position: fixed;
        width: 10px;
        height: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 700;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        background-color: #d62828;
        border: none;
        padding: 10px;
        cursor: pointer;
        border-radius: 50%;
      }
      .slide-right {
        position: fixed;
        width: 10px;
        height: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 700;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        background-color: #d62828;
        border: none;
        padding: 10px;
        cursor: pointer;
        border-radius: 50%;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <img src="/icons/logo3.png" alt="Logo 1" />
        <img src="/icons/logo3.png" alt="Logo 2" />
        <img src="/icons/logo3.png" alt="Logo 3" />
      </div>
      <div class="title-section">
        <img class="title-image" src="/icons/logo3.png" alt="" />
        <!-- Ubah header -->
        <h1>Selamat Datang di Galeri Video</h1>
      </div>
      <div class="grid" id="wrapper"></div>
      <div class="footer">
        <div class="footer-icons">
          <img class="title-image" src="/icons/footer1.png" alt="" />
          <img class="title-image" src="/icons/footer2.png" alt="" />
        </div>
        <!-- Ubah text footer -->
        <p>Footer</p>
      </div>
    </div>

    <div id="videoModal" class="modal hidden">
      <div class="modal-content">
        <span class="close">&times;</span>
        <video id="videoPlayer" controls></video>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("videoModal");
        const videoPlayer = document.getElementById("videoPlayer");
        const closeBtn = document.querySelector(".close");
        const videoGrid = document.getElementById("videoGrid");
        const videoContainer = document.querySelector(".grid");
        const videoCount = 4;
        const groupSize = 9;
        const boxes = [];

        for (let i = 1; i <= videoCount; i++) {
          const box = document.createElement("div");
          box.className = "box";
          box.dataset.video = `video${i}.mp4`;
          box.innerHTML = `
            <video
              src="/video/video${i}.mp4"
              poster="/thumbnail/video${i}.png"
              preload="metadata"
              muted
              playsinline
              style="
                width: 100%;
                object-fit: cover;
                cursor: pointer;
              "
              onmouseover="this.play()"
              onmouseout="this.pause(); this.currentTime=0;"
              onerror="this.closest('.box').style.display='none';"
            ></video>

          `;
          boxes.push(box);
        }

        let currentSlide = 0;

        const prevBtn = document.createElement("button");
        prevBtn.textContent = "<";
        prevBtn.className = "slide-left";

        const nextBtn = document.createElement("button");
        nextBtn.textContent = ">";
        nextBtn.className = "slide-right";

        function renderSlide(slideIdx) {
          videoContainer.innerHTML = "";
          const start = slideIdx * groupSize;
          const end = start + groupSize;
          boxes
            .slice(start, end)
            .forEach((box) => videoContainer.appendChild(box));
          videoContainer.appendChild(prevBtn);
          videoContainer.appendChild(nextBtn);
          prevBtn.disabled = slideIdx === 0;
          nextBtn.disabled = end >= boxes.length;
        }
        renderSlide(currentSlide);

        prevBtn.addEventListener("click", () => {
          if (currentSlide > 0) {
            currentSlide--;
            renderSlide(currentSlide);
          }
        });

        nextBtn.addEventListener("click", () => {
          if ((currentSlide + 1) * groupSize < boxes.length) {
            currentSlide++;
            renderSlide(currentSlide);
          }
        });

        videoContainer.addEventListener("click", (e) => {
          const box = e.target.closest(".box");
          if (!box) return;
          const videoSrc = box.dataset.video;
          videoPlayer.src = videoSrc;
          modal.classList.remove("hidden");
          videoPlayer.play();
        });

        closeBtn.addEventListener("click", () => {
          modal.classList.add("hidden");
          videoPlayer.pause();
          videoPlayer.currentTime = 0;
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && !modal.classList.contains("hidden")) {
            modal.classList.add("hidden");
            videoPlayer.pause();
            videoPlayer.currentTime = 0;
          }
        });
      });
    </script>
  </body>
</html>
